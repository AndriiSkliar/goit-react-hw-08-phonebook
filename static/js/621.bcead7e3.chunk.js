"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[621],{8621:function(t,e,n){n.r(e),n.d(e,{default:function(){return at}});var r=n(9434),o=n(2791),a=n(9439),c=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,e="",n=crypto.getRandomValues(new Uint8Array(t));t--;){var r=63&n[t];e+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return e},l="Form_form__e1yzW",i="Form_form__container__0Ze0A",u="Form_form__input__qyBih",s="Form_form__btn__sPTnm",f=n(184),d=function(t){var e=t.onSubmit,n=(0,o.useState)(""),r=(0,a.Z)(n,2),d=r[0],m=r[1],p=(0,o.useState)(""),_=(0,a.Z)(p,2),v=_[0],h=_[1],y=c(),j=c(),x=function(t){var e=t.currentTarget,n=e.name,r=e.value;switch(n){case"name":return void m(r);case"number":return void h(r);default:return}},b=function(){m(""),h("")};return(0,f.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e({name:d,number:v}),b()},className:l,children:[(0,f.jsxs)("div",{className:i,children:[(0,f.jsx)("label",{htmlFor:y,children:"Name"}),(0,f.jsx)("input",{type:"text",name:"name",className:u,id:y,value:d,onChange:x,required:!0,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$"})]}),(0,f.jsxs)("div",{className:i,children:[(0,f.jsx)("label",{htmlFor:j,children:"Number"}),(0,f.jsx)("input",{type:"tel",name:"number",className:u,id:j,value:v,onChange:x,required:!0,pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}"})]}),(0,f.jsx)("button",{type:"submit",className:s,children:"Add contact"})]})},m="Section_section__Z2PLw",p="Section_title__SLHvV",_=function(t){var e=t.title,n=t.children;return(0,f.jsxs)("section",{className:m,children:[(0,f.jsx)("h2",{className:p,children:e}),n]})},v="Filter_filter__wrapper__RVCEc",h="Filter_filter__input__toa89",y=n(7671),j=function(){var t=(0,r.I0)(),e=(0,r.v9)((function(t){return t.contactsStore.filterTerm}));return(0,f.jsxs)("div",{className:v,children:[(0,f.jsx)("p",{children:"Find name"}),(0,f.jsx)("input",{type:"text",name:"filter",className:h,value:e,onChange:function(e){t((0,y.V)(e.target.value))}})]})},x=n(8792),b=n(27),g=n(4854),w="Modal_backdrop__xTnIT",C="Modal_modal__DJDMv",N="Modal_openBtn__k9UJP",k=function(){var t=(0,r.I0)();(0,o.useEffect)((function(){var e=function(e){"Escape"===e.code&&t((0,b.$)())};return window.addEventListener("keydown",e),document.body.style.overflow="hidden",function(){window.removeEventListener("keydown",e),document.body.style.overflow="auto"}}),[t]);return(0,f.jsx)("div",{className:w,onClick:function(e){e.target===e.currentTarget&&t((0,b.$)())},children:(0,f.jsx)("div",{className:C,children:(0,f.jsxs)("button",{onClick:function(){return t((0,b.$)())},className:N,children:["Open phonebook",(0,f.jsx)(g.r,{})]})})})},S="Error_errorBage__4lvnL",E=function(t){var e=t.error;return(0,f.jsxs)("p",{className:S,children:["Oops, some error occured... Error message: ",e]})},O=n(3525),A="NOT_FOUND";var Z=function(t,e){return t===e};function F(t,e){var n="object"===typeof e?e:{equalityCheck:e},r=n.equalityCheck,o=void 0===r?Z:r,a=n.maxSize,c=void 0===a?1:a,l=n.resultEqualityCheck,i=function(t){return function(e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!t(e[o],n[o]))return!1;return!0}}(o),u=1===c?function(t){var e;return{get:function(n){return e&&t(e.key,n)?e.value:A},put:function(t,n){e={key:t,value:n}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}(i):function(t,e){var n=[];function r(t){var r=n.findIndex((function(n){return e(t,n.key)}));if(r>-1){var o=n[r];return r>0&&(n.splice(r,1),n.unshift(o)),o.value}return A}return{get:r,put:function(e,o){r(e)===A&&(n.unshift({key:e,value:o}),n.length>t&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(c,i);function s(){var e=u.get(arguments);if(e===A){if(e=t.apply(null,arguments),l){var n=u.getEntries(),r=n.find((function(t){return l(t.value,e)}));r&&(e=r.value)}u.put(arguments,e)}return e}return s.clearCache=function(){return u.clear()},s}function L(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"===typeof t}))){var n=e.map((function(t){return"function"===typeof t?"function "+(t.name||"unnamed")+"()":typeof t})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}function M(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var a,c=0,l={memoizeOptions:void 0},i=r.pop();if("object"===typeof i&&(l=i,i=r.pop()),"function"!==typeof i)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof i+"]");var u=l,s=u.memoizeOptions,f=void 0===s?n:s,d=Array.isArray(f)?f:[f],m=L(r),p=t.apply(void 0,[function(){return c++,i.apply(null,arguments)}].concat(d)),_=t((function(){for(var t=[],e=m.length,n=0;n<e;n++)t.push(m[n].apply(null,arguments));return a=p.apply(null,t)}));return Object.assign(_,{resultFunc:i,memoizedResultFunc:p,dependencies:m,lastResult:function(){return a},recomputations:function(){return c},resetRecomputations:function(){return c=0}}),_};return o}var I,R=M(F),T=function(t){return t.contactsStore.contacts.items},z=function(t){return t.contactsStore.contacts.isLoading},H=function(t){return t.contactsStore.contacts.error},P=R([T,function(t){return t.contactsStore.filterTerm}],(function(t,e){return t.filter((function(t){var n=t.name,r=t.number;return n.toLowerCase().includes(e.toLowerCase().trim())||r.toString().includes(e.toLowerCase().trim())}))})),U=function(t){return t.modal.isOpenModal},q=n(3433),D=["title","titleId"];function V(){return V=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V.apply(this,arguments)}function $(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function B(t,e){var n=t.title,r=t.titleId,a=$(t,D);return o.createElement("svg",V({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 24 24",ref:e,"aria-labelledby":r},a),n?o.createElement("title",{id:r},n):null,I||(I=o.createElement("g",{fill:"none"},o.createElement("path",{d:"M24 0v24H0V0h24ZM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018Zm.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022Zm-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01l-.184-.092Z"}),o.createElement("path",{fill:"currentColor",d:"M20 5a1 1 0 1 1 0 2h-1l-.003.071l-.933 13.071A2 2 0 0 1 16.069 22H7.93a2 2 0 0 1-1.995-1.858l-.933-13.07A1.017 1.017 0 0 1 5 7H4a1 1 0 0 1 0-2h16Zm-3.003 2H7.003l.928 13h8.138l.928-13ZM14 2a1 1 0 1 1 0 2h-4a1 1 0 0 1 0-2h4Z"}))))}var J=o.forwardRef(B),G=(n.p,"Contact_contacts__LHZYA"),K="Contact_contact__item__YcTpN",Y="Contact_contact__img__75rnS",W="Contact_contact__text__J0nsU",Q="Contact_contact__name__0CRsF",X="Contact_contact__number__OjoHh",tt="Contact_contact__btn__tRJ3U",et="Contact_deleteSvg__GRULb",nt=function(t){var e=t.contact,n=e.id,r=e.name,o=e.number,a=e.avatar,c=t.handleDeleteContact;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("li",{className:K,children:[(0,f.jsx)("img",{className:Y,src:a||"https://pofoto.club/uploads/posts/2021-12/1639591399_1-pofoto-club-p-ptichki-malenkie-foto-1.jpg",alt:r,width:"50"}),(0,f.jsxs)("p",{className:W,children:[(0,f.jsx)("span",{className:Q,children:r}),(0,f.jsx)("span",{className:X,children:o})]}),(0,f.jsx)("button",{type:"button",className:tt,onClick:function(){return c(n)},children:(0,f.jsx)(J,{className:et})})]},n)})},rt=function(){var t=(0,r.v9)(T),e=(0,r.I0)(),n=(0,r.v9)(P),o=function(t){e((0,x.GK)(t))},a=t&&(0,q.Z)(n).sort((function(t,e){return t.name.localeCompare(e.name)}));return(0,f.jsx)("ul",{className:G,children:0===n.length?(0,f.jsx)("p",{children:"No contacts found."}):a.map((function(t){return(0,f.jsx)(nt,{contact:t,handleDeleteContact:o},t.id)}))})},ot=n(8174),at=function(){var t=(0,r.I0)(),e=(0,r.v9)(T),n=(0,r.v9)(z),a=(0,r.v9)(H),c=(0,r.v9)(U);return(0,o.useEffect)((function(){t((0,x.yF)())}),[t]),(0,f.jsxs)("div",{className:"container",children:[(0,f.jsxs)("div",{className:"wrapper",children:[a&&(0,f.jsx)(E,{error:a}),n&&(0,f.jsx)(O.a,{}),(0,f.jsx)("button",{className:"openModal",type:"button",onClick:function(){return t((0,b.$)())},children:"\u274c"}),(0,f.jsx)(_,{title:"Phonebook",children:(0,f.jsx)(d,{onSubmit:function(n){e.some((function(t){return t.name===n.name}))?ot.Am.error("".concat(n.name," is already in your contacts"),{position:"top-center",autoClose:3e3}):t((0,x.uK)(n))}})}),(0,f.jsxs)(_,{title:"Contacts",children:[(0,f.jsx)(j,{}),null!==e&&(0,f.jsx)(rt,{})]})]}),c&&(0,f.jsx)(k,{})]})}}}]);
//# sourceMappingURL=621.bcead7e3.chunk.js.map